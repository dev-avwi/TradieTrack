Alright Ayden ‚Äî here it is.

This is THE MASTER PRODUCTION PROMPT for Replit.

This is the one you copy-paste straight into Replit AI so it:
	‚Ä¢	fixes your app
	‚Ä¢	finishes the backend
	‚Ä¢	sets up production billing
	‚Ä¢	sets up Connect payments
	‚Ä¢	sets up SendGrid properly
	‚Ä¢	fixes UI alignment
	‚Ä¢	finalises all features
	‚Ä¢	prepares the app for beta users
	‚Ä¢	checks everything for you

This is written to be extremely clear, following how AI builders like Replit expect instructions.

Use this as your source of truth for turning TradieTrack into a real SaaS.

‚∏ª

üöÄ MASTER PRODUCTION PROMPT FOR TRADIETRACK

I am building a SaaS app called TradieTrack.
I need you to update the project into full PRODUCTION MODE with:

‚úî Stripe Billing (for my subscriptions)

‚úî Stripe Connect (for tradies to get paid by their customers)

‚úî SendGrid (emails for app + tradie customer emails)

‚úî Full backend validation & security

‚úî Fix unused layout columns + improve UI spacing

‚úî Add all final production pages and workflows

Follow all instructions carefully and update all files accordingly.

‚∏ª

üîµ 1. GENERAL REQUIREMENTS

1.1 Convert the entire project to production mode
	‚Ä¢	Use environment variables instead of hardcoded keys
	‚Ä¢	Remove console logs
	‚Ä¢	Add error boundaries
	‚Ä¢	Add proper loading states
	‚Ä¢	Fix any development shortcuts
	‚Ä¢	Remove placeholder data
	‚Ä¢	Validate all DB queries

1.2 Fix the UI spacing + unused right column problem

There is currently a large unused right-column space on most pages, making the app look left-aligned.

Fix:
	‚Ä¢	Implement a responsive max-width layout (e.g., max-w-screen-lg mx-auto px-4)
	‚Ä¢	Ensure pages use full available width
	‚Ä¢	Remove/remap any unused columns or grid wrappers
	‚Ä¢	Standardize all pages to the same layout component
	‚Ä¢	Ensure mobile ‚Üí desktop scaling is correct
	‚Ä¢	The ‚ÄúMore‚Äù page is correct ‚Äî make all pages follow that layout

‚∏ª

üîµ 2. DATABASE STRUCTURE (REQUIRED FOR PRODUCTION)

Ensure these tables and fields exist and are linked:

2.1 business table

business (
  id uuid pk,
  name text,
  trade_type text,
  phone text,
  email text,
  abn text,
  address text,

  subscription_tier text,         -- free | starter | pro | elite
  subscription_status text,       -- active | past_due | canceled
  stripe_customer_id text,
  stripe_subscription_id text,
  current_period_end timestamptz,

  stripe_connect_account_id text,
  connect_charges_enabled boolean,
  connect_payouts_enabled boolean,

  email_verified boolean default false,

  created_at timestamptz default now()
);

2.2 users table

users (
  id uuid pk,
  email text unique,
  full_name text,
  role text,                -- owner | manager | tradie
  business_id uuid references business(id),
  created_at timestamptz default now()
);

2.3 invoices table

invoices (
  id uuid pk,
  business_id uuid references business(id),
  client_id uuid,
  job_id uuid,
  status text,              -- draft | sent | paid | overdue
  total_cents integer,
  currency text default 'aud',
  gst_included boolean,
  due_date timestamptz,

  stripe_payment_intent_id text,
  payment_method text,
  payment_reference text,
  paid_at timestamptz,

  created_at timestamptz default now()
);

2.4 notifications table

notifications (
  id uuid pk,
  business_id uuid,
  user_id uuid,
  type text,
  title text,
  body text,
  related_type text,
  related_id uuid,
  read boolean default false,
  created_at timestamptz default now()
);

Ensure foreign keys and RLS (Row Level Security) are configured so users cannot access other businesses‚Äô data.

‚∏ª

üîµ 3. STRIPE ‚Äî LAYER 1 (MY SUBSCRIPTION BILLING)

Implement full subscription billing with Stripe Checkout.

3.1 Add endpoint:

POST /api/billing/create-checkout-session

Inputs:

{
  "businessId": "...",
  "userId": "...",
  "plan": "starter" | "pro" | "elite"
}

Flow:
	1.	Ensure the user belongs to the business
	2.	Create Stripe customer if none exists
	3.	Create checkout session (mode: subscription)
	4.	Add metadata:
	‚Ä¢	business_id
	‚Ä¢	plan

Return session.url.

3.2 Add webhook:

POST /api/stripe/subscription-webhook

Handle:
	‚Ä¢	checkout.session.completed
	‚Ä¢	invoice.payment_succeeded
	‚Ä¢	invoice.payment_failed
	‚Ä¢	customer.subscription.deleted

Update:
	‚Ä¢	business.subscription_tier
	‚Ä¢	business.subscription_status
	‚Ä¢	business.current_period_end

Add notifications + SendGrid emails.

‚∏ª

üîµ 4. STRIPE ‚Äî LAYER 2 (TRADIE CUSTOMER PAYMENTS VIA STRIPE CONNECT)

Add a Payments Settings page where the tradie can click ‚ÄúConnect Stripe‚Äù.

4.1 Endpoint:

POST /api/payments/create-connect-account-link

Flow:
	‚Ä¢	Create Stripe Connect Express account if needed
	‚Ä¢	Store stripe_connect_account_id
	‚Ä¢	Generate onboarding link
	‚Ä¢	Return onboarding link URL

4.2 Connect Webhook:

POST /api/stripe/connect-webhook

Handle:
	‚Ä¢	account.updated

Update:
	‚Ä¢	connect_charges_enabled
	‚Ä¢	connect_payouts_enabled

4.3 Invoice PaymentIntents

Add endpoint:

POST /api/payments/create-payment-intent

Flow:
	‚Ä¢	Ensure invoice belongs to business
	‚Ä¢	Ensure Connect is enabled
	‚Ä¢	Create PaymentIntent with:

application_fee_amount (1‚Äì2%)
on_behalf_of: tradie‚Äôs stripe_connect_account_id
transfer_data: { destination: stripe_connect_account_id }


	‚Ä¢	Return client_secret

Add payment success webhook:
	‚Ä¢	Mark invoice as paid
	‚Ä¢	Send notification
	‚Ä¢	Send SendGrid receipt

‚∏ª

üîµ 5. SENDGRID ‚Äî LAYER 1 (APP ‚Üí TRADIES)

Use:

From: TradieTrack <no-reply@tradietrack.com>

Emails needed:
	‚Ä¢	welcome
	‚Ä¢	email verification
	‚Ä¢	subscription activated
	‚Ä¢	payment failed
	‚Ä¢	team invite

Add:

sendAppEmail(to, template, data) helper.

‚∏ª

üîµ 6. SENDGRID ‚Äî LAYER 2 (TRADIE ‚Üí THEIR CUSTOMERS)

Use:

From: TradieTrack for {BusinessName} <no-reply@tradietrack.com>
Reply-To: tradie‚Äôs actual email

Emails needed:
	‚Ä¢	quote sent
	‚Ä¢	invoice sent
	‚Ä¢	payment receipt
	‚Ä¢	job update

Add helper:

sendCustomerEmail(business, to, template, data).

‚∏ª

üîµ 7. UI/UX PRODUCTION SETUP

7.1 Fix layout globally
	‚Ä¢	Use a standard layout wrapper to fix left alignment
	‚Ä¢	Remove unused columns
	‚Ä¢	Ensure responsive grid for job cards / widgets
	‚Ä¢	Ensure consistent spacing (padding/margins)
	‚Ä¢	Add polished header + breadcrumbs
	‚Ä¢	Add empty state illustrations for pages with no data

7.2 Settings pages

Add full sections:
	‚Ä¢	Business Info
	‚Ä¢	Billing
	‚Ä¢	Payments (Stripe Connect)
	‚Ä¢	Email Verification
	‚Ä¢	Team

‚∏ª

üîµ 8. PDF GENERATION (PRODUCTION MODE)

Create polished, professional PDF templates for:
	‚Ä¢	Quotes
	‚Ä¢	Invoices
	‚Ä¢	Payment receipts

Must include:
	‚Ä¢	Business logo
	‚Ä¢	Business details
	‚Ä¢	ABN
	‚Ä¢	Quote/invoice number
	‚Ä¢	Issue date
	‚Ä¢	Due date
	‚Ä¢	Itemized line items
	‚Ä¢	GST calculation
	‚Ä¢	Terms
	‚Ä¢	Footer
	‚Ä¢	‚ÄúGenerated with TradieTrack‚Äù badge

‚∏ª

üîµ 9. SECURITY REQUIREMENTS
	‚Ä¢	RLS on all tables
	‚Ä¢	Only owners/managers can edit business settings
	‚Ä¢	Rate limit login & signup
	‚Ä¢	Validate all incoming API types
	‚Ä¢	Ensure no secrets are exposed in frontend
	‚Ä¢	Enable CORS only for production domain

‚∏ª

üîµ 10. TEST EVERYTHING

Create a full test checklist in code comments:

Tests:
	‚Ä¢	Signup
	‚Ä¢	Email verification
	‚Ä¢	Business onboarding
	‚Ä¢	Creating a job
	‚Ä¢	Creating a quote
	‚Ä¢	Sending a quote
	‚Ä¢	Customer receiving quote email
	‚Ä¢	Customer opening quote public page
	‚Ä¢	Creating an invoice
	‚Ä¢	Paying invoice via Stripe
	‚Ä¢	Webhook updates DB
	‚Ä¢	Notifications work
	‚Ä¢	Subscription upgrades
	‚Ä¢	Billing page shows correct info
	‚Ä¢	Connect account onboarding
	‚Ä¢	Connect account verification
	‚Ä¢	Sending invoice emails
	‚Ä¢	Payment receipts sent

‚∏ª

üîµ 11. FINAL GOAL

After completing all updates:

The app should be ready for a real beta launch, with:
	‚Ä¢	Real Stripe billing
	‚Ä¢	Real Connect payments
	‚Ä¢	Real SendGrid emails
	‚Ä¢	Production-ready database
	‚Ä¢	Clean professional UI
	‚Ä¢	Full security
	‚Ä¢	No unused columns or broken layouts
	‚Ä¢	Full responsive design
	‚Ä¢	Reliable notifications
	‚Ä¢	Legit quotes, invoices, and receipts

Use this entire prompt as the definitive specification, update all code, and notify me of any missing files or conflicts.

‚∏ª

DONE.

If you paste that into Replit AI, it will understand the ENTIRE architecture and start fixing everything to production-level.

If you want, I can now generate:

‚úî Production email templates

‚úî Clean invoice PDF design

‚úî Business Settings page UI

‚úî Payments (Stripe Connect) page UI

‚úî Billing page UI

‚úî Error messages + confirmation text

‚úî Empty states + placeholder illustrations

Just tell me which one you want next.